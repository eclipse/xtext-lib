plugins {
    id 'java-platform'
    id 'com.github.ben-manes.versions' version '0.39.0'
}
apply plugin: "com.github.ben-manes.versions"

tasks.dependencyUpdates {
    checkConstraints = true
}

group = 'org.eclipse.xtext'

dependencies {
    constraints {
        api "aopalliance:aopalliance:1.0"
        api "args4j:args4j:2.33"
        api "com.google.code.findbugs:jsr305:3.0.2"
        api "com.google.errorprone:error_prone_annotations:2.3.4"
        api "com.google.guava:guava-gwt:30.1-jre"
        api "com.google.guava:guava-testlib:30.1-jre"
        api "com.google.guava:guava:30.1-jre"
        api "com.google.inject:guice:5.0.1"
        api "io.github.classgraph:classgraph:4.8.149"
        api "javax.annotation:javax.annotation-api:1.3.2"
        api "junit:junit:4.13.2"
        api "org.hamcrest:hamcrest-core:1.3"
        api "ch.qos.reload4j:reload4j:1.2.24"
        api "org.antlr:antlr-runtime:3.2"
        api "org.eclipse.emf:org.eclipse.emf.codegen.ecore:2.29.0"
        api "org.eclipse.emf:org.eclipse.emf.codegen:2.22.0"
        api "org.eclipse.emf:org.eclipse.emf.common:2.24.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore.change:2.14.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore.xmi:2.16.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore:2.26.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe.core:1.8.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe.utils:1.8.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.language:2.14.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.launch:2.14.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.lib:2.14.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.runtime:2.14.0"
        api "org.eclipse.jdt:org.eclipse.jdt.compiler.apt:1.4.200"
        api "org.eclipse.jdt:org.eclipse.jdt.compiler.tool:1.3.200"
        api "org.eclipse.jdt:org.eclipse.jdt.core:3.31.0"
        api "org.eclipse.jdt:org.eclipse.jdt.debug:3.19.300"
        api "org.eclipse.jdt:org.eclipse.jdt.launching:3.19.700"
        /*
        When adjusting the `lsp4j` version here, do not forget to do the following: 
        - Update the versions in the 
          `/org.eclipse.xtext.ide/META-INF/MANIFEST.MF` and 
          `/org.eclipse.xtext.ide.tests/META-INF/MANIFEST.MF` files.
        - Update Oomph releng/org.eclipse.xtext.contributor/Xtext.setup
        */
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.debug:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.generator:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc.debug:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.websocket.jakarta:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.websocket:0.19.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j:0.19.0"
        api "org.eclipse.platform:org.eclipse.core.commands:3.10.200"
        api "org.eclipse.platform:org.eclipse.core.contenttype:3.8.200"
        api "org.eclipse.platform:org.eclipse.core.expressions:3.8.200"
        api "org.eclipse.platform:org.eclipse.core.filesystem:1.9.500"
        api "org.eclipse.platform:org.eclipse.core.jobs:3.13.100"
        api "org.eclipse.platform:org.eclipse.core.resources:3.18.0"
        api "org.eclipse.platform:org.eclipse.core.runtime:3.26.0"
        api "org.eclipse.platform:org.eclipse.core.variables:3.5.100"
        api "org.eclipse.platform:org.eclipse.debug.core:3.20.0"
        api "org.eclipse.platform:org.eclipse.equinox.app:1.6.200"
        api "org.eclipse.platform:org.eclipse.equinox.common:3.16.200"
        api "org.eclipse.platform:org.eclipse.equinox.preferences:3.10.100"
        api "org.eclipse.platform:org.eclipse.equinox.registry:3.11.200"
        api "org.eclipse.platform:org.eclipse.osgi:3.18.100"
        api "org.eclipse.platform:org.eclipse.text:3.12.200"
        api "org.eclipse.xpand:org.eclipse.xpand:2.0.0"
        api "org.eclipse.xpand:org.eclipse.xtend.typesystem.emf:2.0.0"
        api "org.eclipse.xpand:org.eclipse.xtend:2.0.0"
        api "org.eclipse.xtext:xtext-antlr-generator:2.1.1"
        api "org.apiguardian:apiguardian-api:1.1.2"
        api "org.junit.jupiter:junit-jupiter-api:5.9.2"
        api "org.junit.jupiter:junit-jupiter-engine:5.9.2"
        api "org.junit.platform:junit-platform-commons:1.9.2"
        api "org.junit.platform:junit-platform-engine:1.9.2"
        api "org.junit.platform:junit-platform-launcher:1.9.2"
        api "org.junit.platform:junit-platform-runner:1.9.2"
        api "org.junit.platform:junit-platform-suite-api:1.9.2"
        api "org.junit.vintage:junit-vintage-engine:5.9.2"
        api "org.opentest4j:opentest4j:1.2.0"
        api "org.ow2.asm:asm:9.4"
    }
}

publishing {
    publications {
        LocalMavenRepo(MavenPublication) {
            from components.javaPlatform
            artifactId "xtext-dev-bom"
            pom {
                name = 'Eclipse Xtext Developer BOM'
                description = 'Xtext Third Party Dependencies (Bill of Materials)'
                url = 'https://www.eclipse.org/Xtext/'
                licenses {
                    license {
                        name = 'Eclipse Public License, Version 2.0'
                        url = 'http://www.eclipse.org/legal/epl-2.0'
                    }
                }
                scm {
                    connection = "scm:git:https://github.com/eclipse/${rootProject.name}.git"
                    developerConnection = "scm:git:https://github.com/eclipse/${rootProject.name}.git"
                    url = "git@github.com:eclipse/${rootProject.name}.git"
                }
                properties = [
                    "project.build.sourceEncoding": "ISO-8859-1"
                ]
            }
            apply from: "${rootDir}/gradle/developers.gradle", to: pom
        }
    }
    repositories {
        maven {
            // change to point to your repo, e.g. http://my.org/repo
            url = "$rootProject.buildDir/maven-repository"
        }
    }
}

